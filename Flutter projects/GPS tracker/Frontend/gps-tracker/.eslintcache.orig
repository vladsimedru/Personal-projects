<<<<<<< HEAD
[{"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\index.js":"1","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\reportWebVitals.js":"2","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\App.js":"3","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Login.js":"4"},{"size":517,"mtime":1608913265790,"results":"5","hashOfConfig":"6"},{"size":375,"mtime":1608913265792,"results":"7","hashOfConfig":"6"},{"size":240,"mtime":1609084086643,"results":"8","hashOfConfig":"6"},{"size":773,"mtime":1609102861484,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"n5f4vh",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"12"},{"filePath":"18","messages":"19","errorCount":4,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\index.js",[],["21","22"],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\reportWebVitals.js",[],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\App.js",["23"],"import logo from './logo.svg';\r\nimport './App.css';\r\nimport Login from './components/Login';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div>\r\n      <Login/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Login.js",["24","25","26","27","28","29"],"import React,{useState} from 'react'\r\n\r\nfunction Login() {\r\n\r\nconst [count, setCount] = useState(0)\r\nconst [username, setUsername]=useState('')\r\nconst [password,setPassword]=useState('')\r\n\r\nloginClickedHandler(()=>{\r\n    sad\r\n})\r\n  \r\n\r\n    return (\r\n        <div> \r\n            <button onClick={()=>setCount(count+1)}>Count {count}</button>\r\n            <div>\r\n              <text>username</text>\r\n              <input  onChange={e=>{setUsername(e.target.value)}}></input>\r\n            </div>\r\n            <div>\r\n              <text>password</text>\r\n              <input  onChange={e=>{setPassword(e.target.value)}}></input>\r\n            </div>\r\n            <button onClick={loginClickedHandler}></button>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n",{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","severity":1,"message":"35","line":1,"column":8,"nodeType":"36","messageId":"37","endLine":1,"endColumn":12},{"ruleId":"34","severity":1,"message":"38","line":6,"column":8,"nodeType":"36","messageId":"37","endLine":6,"endColumn":16},{"ruleId":"34","severity":1,"message":"39","line":7,"column":8,"nodeType":"36","messageId":"37","endLine":7,"endColumn":16},{"ruleId":"40","severity":2,"message":"41","line":9,"column":1,"nodeType":"36","messageId":"42","endLine":9,"endColumn":20},{"ruleId":"43","severity":2,"message":"44","line":10,"column":5,"nodeType":"45","messageId":"46","endLine":10,"endColumn":8},{"ruleId":"40","severity":2,"message":"47","line":10,"column":5,"nodeType":"36","messageId":"42","endLine":10,"endColumn":8},{"ruleId":"40","severity":2,"message":"41","line":25,"column":30,"nodeType":"36","messageId":"42","endLine":25,"endColumn":49},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'username' is assigned a value but never used.","'password' is assigned a value but never used.","no-undef","'loginClickedHandler' is not defined.","undef","no-unused-expressions","Expected an assignment or function call and instead saw an expression.","ExpressionStatement","unusedExpression","'sad' is not defined.","no-global-assign","no-unsafe-negation"]
=======
[{"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\index.js":"1","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\reportWebVitals.js":"2","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\App.js":"3","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Login.js":"4","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Home.js":"5","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\Nav.js":"6","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\About.js":"7","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Map.js":"8","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Logout.js":"9","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Users.js":"10","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\MyAccount.js":"11"},{"size":581,"mtime":1609435478516,"results":"12","hashOfConfig":"13"},{"size":375,"mtime":1608913265792,"results":"14","hashOfConfig":"13"},{"size":904,"mtime":1610007235683,"results":"15","hashOfConfig":"13"},{"size":3147,"mtime":1609886311456,"results":"16","hashOfConfig":"13"},{"size":4931,"mtime":1610043809322,"results":"17","hashOfConfig":"13"},{"size":930,"mtime":1610007326631,"results":"18","hashOfConfig":"13"},{"size":199,"mtime":1609614882852,"results":"19","hashOfConfig":"13"},{"size":1809,"mtime":1609589004951,"results":"20","hashOfConfig":"13"},{"size":486,"mtime":1609611620303,"results":"21","hashOfConfig":"13"},{"size":2968,"mtime":1609971029433,"results":"22","hashOfConfig":"13"},{"size":229,"mtime":1609850117429,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"n5f4vh",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"26"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\index.js",[],["54","55"],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\reportWebVitals.js",[],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\App.js",["56"],"import './App.css';\r\nimport Login from './components/Login';\r\nimport Home from './components/Home';\r\nimport About from './components/About';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport Logout from './components/Logout';\r\nimport Navigator from './Nav';\r\nimport Users from './components/Users';\r\nimport MyAccount from './components/MyAccount';\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n\r\n    <Router>\r\n    <div className=\"App\">\r\n       <Switch>\r\n        <Route path='/about' exact component={About} />\r\n        <Route path='/home' exact component={Home} />\r\n        <Route path='/login' exact component={Login} />\r\n        <Route path='/users' exact component={Users} />\r\n        <Route path='/myaccount' exact component={MyAccount} />\r\n        <Route path='/logout' exact component={Logout} />\r\n       </Switch>\r\n    </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Login.js",["57","58","59","60","61","62","63","64","65","66","67"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Home from \"./Home\";\r\nimport { Link, Redirect, Route, useHistory } from \"react-router-dom\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport \"./Login.css\";\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nfunction Login() {\r\n  const [count, setCount] = useState(0);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [user, setUser] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    console.log(\"useEffect - upp doc title\");\r\n    document.title = `Login`;\r\n  }, []);\r\n\r\n  const loginHandler = (e) => {\r\n    e.preventDefault();\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"http://localhost:8080/users/login\",\r\n      data: JSON.stringify({ email, password }),\r\n      headers: { \"Content-Type\": \"application/json; charset=utf-8\" },\r\n    })\r\n      .then((response) => {\r\n        if (response.request.status === 200) {\r\n          console.log(response);\r\n          setLoggedIn(true);\r\n          const user = { username, password };\r\n          localStorage.setItem(\"userAuth\", JSON.stringify(user));\r\n          history.push({\r\n            pathname: \"/home\",\r\n            state: { detail: response.data },\r\n          });\r\n        } else {\r\n          console.log(response.request.error);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ backgroundImage: \"http://localhost:3000/background2.jpg\" }}>\r\n      <Form className=\"box\">\r\n        <h1>\r\n          <span className=\"font-weight-bold\">gps-tracker</span>.com\r\n        </h1>\r\n        <h3>We follow you,seriously</h3>\r\n        <div className=\"login\">\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => {\r\n                setEmail(e.target.value);\r\n                setUsername(e.target.value);\r\n              }}\r\n              placeholder=\"Enter email\"\r\n            />\r\n            <Form.Text className=\"text-muted\">\r\n              We'll never share your email with anyone else.\r\n            </Form.Text>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              value={password}\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n              }}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicCheckbox\">\r\n            <Form.Check type=\"checkbox\" label=\"Remember me\" />\r\n          </Form.Group>\r\n          <Button onClick={loginHandler} variant=\"primary\" type=\"submit\">\r\n            Login\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Home.js",["68","69","70","71","72","73"],"import React, { useState, useEffect } from \"react\";\r\nimport Map from \"./Map\";\r\nimport {\r\n  Button,\r\n  InputGroup,\r\n  FormControl,\r\n  Dropdown,\r\n  DropdownButton,\r\n} from \"react-bootstrap\";\r\nimport \"react-bootstrap/dist/react-bootstrap.min.js\";\r\nimport \"./Home.css\";\r\nimport axios from \"axios\";\r\nimport { Marker } from \"google-maps-react\";\r\nimport Navigator from \"../Nav\";\r\n\r\nfunction Home() {\r\n  const [isLogged, setIsLogged] = useState(false);\r\n  const [userAuth, setUserAuth] = useState({});\r\n  const [username, setUsername] = useState();\r\n  const [users, setUsers] = useState([]);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [endDate, setEndDate] = useState(new Date());\r\n  const [options, setOptions] = useState([]);\r\n  const [userSelected, setUserSelected] = useState(0);\r\n  const [locations, setLocations] = useState([]);\r\n  const [locationsSubmitted, setLocationsSubmitted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loggedInUser = localStorage.getItem(\"userAuth\");\r\n    if (loggedInUser) {\r\n      const userAuth = JSON.parse(loggedInUser);\r\n      setUserAuth(userAuth);\r\n      setIsLogged(true);\r\n      axios({\r\n        method: \"GET\",\r\n        url: \"http://localhost:8080/users/users\",\r\n        headers: { \"Content-Type\": \"application/json; charset=utf-8\" },\r\n        auth: userAuth,\r\n      })\r\n        .then((response) => {\r\n          let users = [];\r\n          for (var i = 0; i < response.data.length; i++) {\r\n            users.push(response.data[i]);\r\n          }\r\n          setUsers(users);\r\n          console.log(\"ASDSa\");\r\n          console.log(users);\r\n          const options = response.data.map((option) => (\r\n            <option key={option.id} value={option.id}>\r\n              {option.email}\r\n            </option>\r\n          ));\r\n          setOptions(options);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      console.log(\"user is not logged\");\r\n    }\r\n    console.log(userSelected);\r\n  }, [userSelected]);\r\n\r\n  const searchHandler = (e) => {\r\n    console.log(userAuth);\r\n    const userId = userSelected;\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"http://localhost:8080/locations/findByUserIdAndDate\",\r\n      data: JSON.stringify({ userId, startDate, endDate }),\r\n      auth: userAuth,\r\n      headers: { \"Content-Type\": \"application/json; charset=utf-8\" },\r\n    })\r\n      .then((response) => {\r\n        if (response.request.status === 200) {\r\n          console.log(\"locatiile\");\r\n          console.log(response.data);\r\n          const locations = response.data.map((location) => (\r\n            <Marker\r\n              // key={location.id}\r\n              position={{\r\n                lat: `${location.latitude}`,\r\n                lng: `${location.longitude}`,\r\n              }}\r\n            />\r\n          ));\r\n          setLocationsSubmitted(true);\r\n          setLocations(locations);\r\n        } else {\r\n          console.log(response.request.error);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navigator></Navigator>\r\n      <div className=\"top\">\r\n        <div style={{ marginTop: \"20px\" }} className=\"search\">\r\n          <div paddingX={3} marginTop={3}>\r\n            <text>Username</text>\r\n            <select\r\n              value={userSelected}\r\n              onChange={(e) => setUserSelected(e.target.value)}\r\n            >\r\n              {options}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <InputGroup className=\"mb-3\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"basic-addon1\">Start Date</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                type=\"date\"\r\n                value={startDate}\r\n                onChange={(e) => setStartDate(e.target.value)}\r\n                placeholder=\"Username\"\r\n                aria-label=\"Username\"\r\n                aria-describedby=\"basic-addon1\"\r\n              />\r\n            </InputGroup>\r\n          </div>\r\n          <div>\r\n            <InputGroup className=\"mb-3\">\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"basic-addon1\">End Date</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                type=\"date\"\r\n                value={endDate}\r\n                onChange={(e) => setEndDate(e.target.value)}\r\n                placeholder=\"Username\"\r\n                aria-label=\"Username\"\r\n                aria-describedby=\"basic-addon1\"\r\n              />\r\n            </InputGroup>\r\n          </div>\r\n          <div>\r\n            <Button onClick={searchHandler}>Search</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"map\">\r\n        <Map\r\n          locationsSubmitted={locationsSubmitted}\r\n          locations={locations}\r\n        ></Map>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\Nav.js",["74","75","76","77"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Nav,Form, Button, FormControl, Navbar, NavDropdown } from \"react-bootstrap\";\r\n\r\nfunction Navigator() {\r\n  return (\r\n    <Navbar bg=\"night\" expand=\"lg\">\r\n    <Navbar.Brand href=\"#home\">Gps-Tracker</Navbar.Brand>\r\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n      <Nav className=\"mr-auto\">\r\n        <Nav.Link href=\"/home\">Home</Nav.Link>\r\n        <Nav.Link href=\"/users\">Users</Nav.Link>\r\n        <Nav.Link href=\"/about\">About us</Nav.Link>\r\n        <NavDropdown title=\"Me\" id=\"basic-nav-dropdown\">\r\n          <NavDropdown.Item href=\"/myaccount\">My account</NavDropdown.Item>\r\n          <NavDropdown.Divider />\r\n          <NavDropdown.Item href=\"/logout\">Log out</NavDropdown.Item>\r\n        </NavDropdown>\r\n      </Nav>\r\n    </Navbar.Collapse>\r\n  </Navbar>\r\n  );\r\n}\r\n\r\nexport default Navigator;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\About.js",[],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Map.js",["78"],"import React, { Component} from \"react\";\r\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from \"google-maps-react\";\r\n\r\nconst mapStyles = {\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n};\r\n\r\nclass MapContainer extends Component {\r\n\r\n  state = {\r\n    showingInfoWindow: false, // Hides or shows the InfoWindow\r\n    activeMarker: {}, // Shows the active marker upon click\r\n    selectedPlace: {}, // Shows the InfoWindow to the selected place upon a marker\r\n  };\r\n\r\n  onMarkerClick = (props, marker, e) =>\r\n    this.setState({\r\n      selectedPlace: props,\r\n      activeMarker: marker,\r\n      showingInfoWindow: true,\r\n    });\r\n\r\n  componentDidMount(){\r\n    console.log(\"comp did mount\")\r\n    console.log(this.props.locations)\r\n    console.log(this.props.locationsSubmitted)\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    console.log(\"comp did update\")\r\n    console.log(this.props.locations)\r\n    console.log(this.props.locationsSubmitted)\r\n  }\r\n\r\n  onClose = (props) => {\r\n    if (this.state.showingInfoWindow) {\r\n      this.setState({\r\n        showingInfoWindow: false,\r\n        activeMarker: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Map\r\n        google={this.props.google}\r\n        zoom={10}\r\n        style={mapStyles}\r\n        initialCenter={{\r\n          lat: 45.83651,\r\n          lng: 23.36998,\r\n        }}\r\n      >\r\n        {this.props.locationsSubmitted && this.props.locations}\r\n        <InfoWindow\r\n          marker={this.state.activeMarker}\r\n          visible={this.state.showingInfoWindow}\r\n          onClose={this.onClose}\r\n        >\r\n          <div>\r\n            <h4>{this.state.selectedPlace.name}</h4>\r\n          </div>\r\n        </InfoWindow>\r\n      </Map>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"AIzaSyCYLVokAJQgbPHDNS0KBruR8NjRMsGzx98\",\r\n})(MapContainer);\r\n",["79","80"],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Logout.js",[],"E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\Users.js",["81","82","83","84"],"import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport Navigator from \"../Nav\";\r\nimport { ListGroup, Button } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./Users.css\";\r\n\r\nfunction Users() {\r\n  const [userAuth, setUserAuth] = useState({});\r\n  const [users, setUsers] = useState([]);\r\n  const [usersIsLoaded, setUsersIsLoaded] = useState(false);\r\n  const [refresh,setRefresh]=useState(0)\r\n\r\n  const deleteUserHandler = useCallback((id) => {\r\n    axios({\r\n      method: \"DELETE\",\r\n      url: `http://localhost:8080/users/delete/${id}`,\r\n      auth: userAuth\r\n    })\r\n      .then((response) => {\r\n        setRefresh(refresh+1)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  },[refresh]);\r\n\r\n  const makeAdminHandler = useCallback((id) => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: `http://localhost:8080/users/roles/admin/${id}`,\r\n      auth: userAuth\r\n    })\r\n      .then((response) => {\r\n        setRefresh(refresh+1)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  },[]);\r\n\r\n  const deleteAdminRoleHandler = useCallback((id) => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: `http://localhost:8080/users/roles/basicUser/${id}`,\r\n      auth: userAuth\r\n    })\r\n      .then((response) => {\r\n        setRefresh(refresh+1)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    const loggedInUser = localStorage.getItem(\"userAuth\");\r\n    if (loggedInUser) {\r\n      const userAuth = JSON.parse(loggedInUser);\r\n      setUserAuth(userAuth);\r\n      axios({\r\n        method: \"GET\",\r\n        url: \"http://localhost:8080/users/users\",\r\n        headers: { \"Content-Type\": \"application/json; charset=utf-8\" },\r\n        auth: userAuth,\r\n      })\r\n        .then((response) => {\r\n          console.log(\"useEff render\");\r\n          const users = response.data.map((user) => (\r\n            <ListGroup.Item\r\n              className={\"user\"}\r\n              key={user.id}\r\n              value={user.id}\r\n              variant={\"success\"}\r\n            >\r\n              {user.email}\r\n              <div className={\"buttons\"} >\r\n                <Button onClick={()=>{user.roles.length>1?deleteAdminRoleHandler(user.id):makeAdminHandler(user.id)}} style={{marginRight:'15px'}}>{user.roles.length>1?\"Remove Admin Role\":\"Make Admin\"}</Button>\r\n                <Button onClick={()=>deleteUserHandler(user.id)}>Delete user</Button>\r\n              </div>\r\n            </ListGroup.Item>\r\n          ));\r\n          setUsersIsLoaded(true);\r\n          setUsers(users);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      console.log(\"user is not logged\");\r\n    }\r\n  }, [refresh]);\r\n\r\n  return (\r\n    <div>\r\n      <Navigator></Navigator>\r\n      <ListGroup >{usersIsLoaded ? users:\"Loading..\"}</ListGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","E:\\Vlad\\Personal-projects\\Flutter projects\\GPS tracker\\Frontend\\gps-tracker\\src\\components\\MyAccount.js",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":7,"column":8,"nodeType":"91","messageId":"92","endLine":7,"endColumn":17},{"ruleId":"89","severity":1,"message":"93","line":3,"column":8,"nodeType":"91","messageId":"92","endLine":3,"endColumn":12},{"ruleId":"89","severity":1,"message":"94","line":4,"column":10,"nodeType":"91","messageId":"92","endLine":4,"endColumn":14},{"ruleId":"89","severity":1,"message":"95","line":4,"column":16,"nodeType":"91","messageId":"92","endLine":4,"endColumn":24},{"ruleId":"89","severity":1,"message":"96","line":4,"column":26,"nodeType":"91","messageId":"92","endLine":4,"endColumn":31},{"ruleId":"89","severity":1,"message":"97","line":11,"column":10,"nodeType":"91","messageId":"92","endLine":11,"endColumn":15},{"ruleId":"89","severity":1,"message":"98","line":11,"column":17,"nodeType":"91","messageId":"92","endLine":11,"endColumn":25},{"ruleId":"89","severity":1,"message":"99","line":15,"column":10,"nodeType":"91","messageId":"92","endLine":15,"endColumn":15},{"ruleId":"89","severity":1,"message":"100","line":15,"column":17,"nodeType":"91","messageId":"92","endLine":15,"endColumn":25},{"ruleId":"89","severity":1,"message":"101","line":16,"column":10,"nodeType":"91","messageId":"92","endLine":16,"endColumn":18},{"ruleId":"89","severity":1,"message":"102","line":17,"column":10,"nodeType":"91","messageId":"92","endLine":17,"endColumn":14},{"ruleId":"89","severity":1,"message":"103","line":17,"column":16,"nodeType":"91","messageId":"92","endLine":17,"endColumn":23},{"ruleId":"89","severity":1,"message":"104","line":7,"column":3,"nodeType":"91","messageId":"92","endLine":7,"endColumn":11},{"ruleId":"89","severity":1,"message":"105","line":8,"column":3,"nodeType":"91","messageId":"92","endLine":8,"endColumn":17},{"ruleId":"89","severity":1,"message":"106","line":17,"column":10,"nodeType":"91","messageId":"92","endLine":17,"endColumn":18},{"ruleId":"89","severity":1,"message":"107","line":19,"column":10,"nodeType":"91","messageId":"92","endLine":19,"endColumn":18},{"ruleId":"89","severity":1,"message":"108","line":19,"column":20,"nodeType":"91","messageId":"92","endLine":19,"endColumn":31},{"ruleId":"89","severity":1,"message":"109","line":20,"column":10,"nodeType":"91","messageId":"92","endLine":20,"endColumn":15},{"ruleId":"89","severity":1,"message":"94","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":14},{"ruleId":"89","severity":1,"message":"110","line":3,"column":14,"nodeType":"91","messageId":"92","endLine":3,"endColumn":18},{"ruleId":"89","severity":1,"message":"111","line":3,"column":20,"nodeType":"91","messageId":"92","endLine":3,"endColumn":26},{"ruleId":"89","severity":1,"message":"112","line":3,"column":28,"nodeType":"91","messageId":"92","endLine":3,"endColumn":39},{"ruleId":"89","severity":1,"message":"113","line":2,"column":45,"nodeType":"91","messageId":"92","endLine":2,"endColumn":51},{"ruleId":"85","replacedBy":"114"},{"ruleId":"87","replacedBy":"115"},{"ruleId":"116","severity":1,"message":"117","line":26,"column":5,"nodeType":"118","endLine":26,"endColumn":14,"suggestions":"119"},{"ruleId":"116","severity":1,"message":"120","line":40,"column":5,"nodeType":"118","endLine":40,"endColumn":7,"suggestions":"121"},{"ruleId":"116","severity":1,"message":"120","line":54,"column":5,"nodeType":"118","endLine":54,"endColumn":7,"suggestions":"122"},{"ruleId":"116","severity":1,"message":"123","line":92,"column":6,"nodeType":"118","endLine":92,"endColumn":15,"suggestions":"124"},"no-native-reassign",["125"],"no-negated-in-lhs",["126"],"no-unused-vars","'Navigator' is defined but never used.","Identifier","unusedVar","'Home' is defined but never used.","'Link' is defined but never used.","'Redirect' is defined but never used.","'Route' is defined but never used.","'count' is assigned a value but never used.","'setCount' is assigned a value but never used.","'error' is assigned a value but never used.","'setError' is assigned a value but never used.","'loggedIn' is assigned a value but never used.","'user' is assigned a value but never used.","'setUser' is assigned a value but never used.","'Dropdown' is defined but never used.","'DropdownButton' is defined but never used.","'isLogged' is assigned a value but never used.","'username' is assigned a value but never used.","'setUsername' is assigned a value but never used.","'users' is assigned a value but never used.","'Form' is defined but never used.","'Button' is defined but never used.","'FormControl' is defined but never used.","'Marker' is defined but never used.",["125"],["126"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'userAuth'. Either include it or remove the dependency array.","ArrayExpression",["127"],"React Hook useCallback has missing dependencies: 'refresh' and 'userAuth'. Either include them or remove the dependency array. You can also do a functional update 'setRefresh(r => ...)' if you only need 'refresh' in the 'setRefresh' call.",["128"],["129"],"React Hook useEffect has missing dependencies: 'deleteAdminRoleHandler', 'deleteUserHandler', and 'makeAdminHandler'. Either include them or remove the dependency array.",["130"],"no-global-assign","no-unsafe-negation",{"desc":"131","fix":"132"},{"desc":"131","fix":"133"},{"desc":"131","fix":"134"},{"desc":"135","fix":"136"},"Update the dependencies array to be: [refresh, userAuth]",{"range":"137","text":"138"},{"range":"139","text":"138"},{"range":"140","text":"138"},"Update the dependencies array to be: [deleteAdminRoleHandler, deleteUserHandler, makeAdminHandler, refresh]",{"range":"141","text":"142"},[784,793],"[refresh, userAuth]",[1112,1114],[1443,1445],[2786,2795],"[deleteAdminRoleHandler, deleteUserHandler, makeAdminHandler, refresh]"]
>>>>>>> Login
